# Learning Progress Tracker

Track your progress through the finhq-verse codebase. Check off items as you complete them.

---

## Phase 1: Architecture Understanding

### 1.1 High-Level Overview
- [ ] Read `README_LLM.md` in project root
- [ ] Understand the monorepo structure (Nx + Gradle)
- [ ] Review `nx.json` for project dependencies
- [ ] Review `docker-compose.yml` for infrastructure

### 1.2 Service Topology
- [ ] Understand Foundation as the core service
- [ ] Map out service dependencies
- [ ] Understand port allocations (7080-7086)
- [ ] Review inter-service communication patterns

---

## Phase 2: Custom Framework Patterns

### 2.1 Passport Pattern (Multi-Tenancy)
- [ ] Read `Passport.java`
- [ ] Read `PassportContext.java`
- [ ] Read `PassportContextFilter.java`
- [ ] Understand header-to-context flow
- [ ] Understand `RepositoryScope.create()` usage

### 2.2 Repository Pattern
- [ ] Read `Repository.java` interface
- [ ] Read `AbstractRepositoryImpl.java`
- [ ] Understand `RepositoryScope` parameter
- [ ] Understand cursor-based pagination
- [ ] Understand `CursorPageRequest` and `CursorPage`

### 2.3 Entity Pattern
- [ ] Read `AbstractEntity.java`
- [ ] Read `AbstractOrgScopedEntity.java`
- [ ] Read `AbstractNamespaceScopedEntity.java`
- [ ] Understand ULID generation via `@PrePersist`
- [ ] Understand Hibernate Envers `@Audited`

### 2.4 Service Pattern
- [ ] Read `AbstractService.java`
- [ ] Understand the 6 type parameters (E, R, M, C, U, L)
- [ ] Understand `EntityMapper` interface
- [ ] Understand `EntityRequestValidator` interface
- [ ] Understand `EntityUpdates` for partial updates

### 2.5 Error Handling Pattern
- [ ] Read `ApplicationException.java`
- [ ] Read `ErrorDescriptor.java` interface
- [ ] Read `GenericErrorCode.java` enum
- [ ] Read `GlobalExceptionHandler.java`
- [ ] Understand error-to-HTTP-response mapping

---

## Phase 3: OpenAPI Code Generation

### 3.1 Specification Files
- [ ] Review `finhq-openapi/specs/shared.yaml`
- [ ] Review `finhq-openapi/specs/foundation.yaml`
- [ ] Understand schema definitions
- [ ] Understand operationId naming

### 3.2 Code Generation
- [ ] Run `npx nx build finhq-openapi-java`
- [ ] Explore generated models in `finhq-openapi-java`
- [ ] Explore generated `*ApiDelegate` interfaces
- [ ] Understand how services implement delegates

---

## Phase 4: Service Deep-Dives

### 4.1 Foundation Service (Start Here)
- [ ] Read `OrganizationEntity.java`
- [ ] Read `OrganizationRepository.java`
- [ ] Read `OrganizationRepositoryImpl.java`
- [ ] Read `OrganizationMapper.java`
- [ ] Read `OrganizationValidator.java`
- [ ] Read `OrganizationService.java`
- [ ] Review Flyway migrations in `db/migration/`
- [ ] Run Foundation service locally
- [ ] Test Organization CRUD via API

### 4.2 Namespace Entity (Second Example)
- [ ] Read `NamespaceEntity.java`
- [ ] Read `NamespaceService.java`
- [ ] Understand org-scoped entity pattern

### 4.3 Bookkeeping Service (Most Complex)
- [ ] Read `BookkeepingAccountEntity.java`
- [ ] Read `BookkeepingTransactionEntity.java`
- [ ] Understand table partitioning (quarterly)
- [ ] Understand multi-leg transactions
- [ ] Review bookkeeping-specific error codes

### 4.4 Calendar Service
- [ ] Read `CalendarEntity.java`
- [ ] Read `CalendarEventEntity.java`
- [ ] Understand event overlap validation

### 4.5 Configuration Service
- [ ] Read `ConfigurationTypeEntity.java`
- [ ] Understand JSON Schema validation
- [ ] Understand profile-based resolution

### 4.6 Consumer Service
- [ ] Read `ConsumerEntity.java`
- [ ] Understand event handler pattern
- [ ] Understand Kafka integration (optional)
- [ ] Understand Resilience4j usage

### 4.7 Settlement Service
- [ ] Read `SettlementEntity.java`
- [ ] Understand settlement processing flow

---

## Phase 5: Infrastructure & DevOps

### 5.1 Local Development
- [ ] Run `make up` to start infrastructure
- [ ] Connect to MySQL (port 3306)
- [ ] Access Jaeger UI (port 16686)
- [ ] Access Temporal UI (port 8080)

### 5.2 Build System
- [ ] Understand Nx workspace commands
- [ ] Run `npx nx graph` to visualize dependencies
- [ ] Run `npx nx affected --target=build`
- [ ] Understand Gradle build configuration

### 5.3 Testing
- [ ] Review TestContainers setup in `finhq-slt`
- [ ] Review `FinhqMockMvc` usage
- [ ] Write a simple integration test
- [ ] Run tests with `npx nx test <service>`

---

## Phase 6: Hands-On Practice

### 6.1 Add a Field to Existing Entity
- [ ] Choose an entity (e.g., Organization)
- [ ] Update OpenAPI spec
- [ ] Regenerate code
- [ ] Update entity class
- [ ] Update mapper
- [ ] Add Flyway migration
- [ ] Update tests
- [ ] Verify end-to-end

### 6.2 Create a New Entity
- [ ] Define in OpenAPI spec
- [ ] Create Entity class
- [ ] Create Repository interface + impl
- [ ] Create Mapper
- [ ] Create Validator
- [ ] Create Service
- [ ] Add Flyway migration
- [ ] Write tests

### 6.3 Add a New API Endpoint
- [ ] Define in OpenAPI spec
- [ ] Regenerate code
- [ ] Implement in service
- [ ] Write tests

---

## Knowledge Checkpoints

### Checkpoint 1: Can You Explain?
- [ ] How does a request's org context flow from HTTP header to database query?
- [ ] Why use cursor pagination instead of offset pagination?
- [ ] What's the difference between `id` and `externalId`?
- [ ] When would you use `RepositoryScope.empty()` vs `RepositoryScope.create()`?

### Checkpoint 2: Can You Implement?
- [ ] Add a new field to an existing entity
- [ ] Create a new scoped entity from scratch
- [ ] Write a custom Specification for complex queries
- [ ] Handle a new error code in a service

### Checkpoint 3: Can You Debug?
- [ ] Trace a request through PassportContextFilter
- [ ] Debug a "tenant not found" error
- [ ] Investigate an optimistic locking failure
- [ ] Read audit history for an entity

---

## Notes & Questions

### Questions to Research
-

### Concepts to Revisit
-

### Things That Clicked
-

---

*Last updated: [Update this date when you make progress]*
